{
  "apiVersion": "1.0.0",
  "metadata": {
    "name": "quarkus-2d11j"
  },
  "projects": [
    {
      "name": "quarkus-quickstarts",
      "source": {
        "location": "http://devfile-registry.openshift-workspaces.svc.cluster.local:8080/resources/quarkus-quarkus-quickstarts-master.zip",
        "type": "zip"
      }
    }
  ],
  "components": [
    {
      "id": "redhat/quarkus-java11/latest",
      "type": "chePlugin"
    },
    {
      "mountSources": true,
      "endpoints": [
        {
          "name": "quarkus-development-server",
          "port": 8080
        },
        {
          "attributes": {
            "path": "/hello/greeting/che-user"
          },
          "name": "hello-greeting-endpoint",
          "port": 8080
        }
      ],
      "memoryLimit": "512Mi",
      "type": "dockerimage",
      "volumes": [
        {
          "name": "m2",
          "containerPath": "/home/jboss/.m2"
        }
      ],
      "alias": "maven",
      "image": "registry.redhat.io/codeready-workspaces/plugin-java11-rhel8@sha256:c13f0bb5f41dfe19ae90912392afc85aa8128cd3d4f7c01131cabe8d5ae3e87a",
      "env": [
        {
          "value": "-XX:MaxRAMPercentage=50.0 -XX:+UseParallelGC -XX:MinHeapFreeRatio=10 -XX:MaxHeapFreeRatio=20 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Dsun.zip.disableMemoryMapping=true -Xms20m -Djava.security.egd=file:/dev/./urandom -Duser.home=/home/jboss",
          "name": "JAVA_OPTS"
        },
        {
          "value": "$(JAVA_OPTS)",
          "name": "MAVEN_OPTS"
        }
      ]
    }
  ],
  "commands": [
    {
      "name": "1. Package the application",
      "actions": [
        {
          "workdir": "${CHE_PROJECTS_ROOT}/quarkus-quickstarts/getting-started",
          "type": "exec",
          "command": "mvn package",
          "component": "maven"
        }
      ]
    },
    {
      "name": "2. Start Quarkus in devmode (hot deploy + debug)",
      "actions": [
        {
          "workdir": "${CHE_PROJECTS_ROOT}/quarkus-quickstarts/getting-started",
          "type": "exec",
          "command": "mvn compile quarkus:dev -Dquarkus.http.host=0.0.0.0",
          "component": "maven"
        }
      ]
    },
    {
      "name": "Attach remote debugger",
      "actions": [
        {
          "referenceContent": "{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"java\",\n      \"request\": \"attach\",\n      \"name\": \"Attach to Remote Quarkus App\",\n      \"hostName\": \"localhost\",\n      \"port\": 5005\n    }\n  ]\n}\n",
          "type": "vscode-launch"
        }
      ]
    }
  ]
}